/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans:wght@400;600&display=swap');

/* Variáveis de Cores e Fontes */
:root {
    --primary-color: #1E3D82; /* Azul Escuro da Capa */
    --secondary-color: #EFC448; /* Dourado/Amarelo da Capa */
    --text-color-light: #FFFFFF; /* Branco para texto em fundo escuro */
    --text-color-dark: #333333; /* Cinza escuro para texto em fundo claro */
    --input-bg-color-dark: #365B8F; /* Azul um pouco mais claro para inputs em sidebar */
    --input-bg-color-light: hsl(215, 32%, 46%); /* Azul um pouco mais claro para opções em sidebar */

    --table-bg-color-odd: #F8F8F8; /* Quase branco para linhas ímpares da tabela */
    --table-bg-color-even: #EEEEEE; /* Cinza claro para linhas pares da tabela */
}

/* Base - Fundo da Página Inteira e Fonte Padrão */
html, body, #_dash-app { /* Target the entire Dash app container */
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    /* Define o fundo de toda a app Dash como azul principal */
    background-color: var(--primary-color) !important; 
    font-family: 'Open Sans', sans-serif;
    color: var(--text-color-dark);
}

/* Cabeçalho */ 
/* Estilos padrão para telas grandes (fixo) */
#fixed-header-container { 
    background-color: var(--primary-color);
    padding: 15px 0; /* Padding padrão para desktop */
    text-align: center;
    position: fixed; /* Fixo por padrão no desktop */
    top: 0;
    left: 0;
    width: 100%;
    z-index: 9999;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    
    /* Garante que o conteúdo é centralizado verticalmente e empilhado */
    display: flex; 
    flex-direction: column; 
    justify-content: center; 
    align-items: center; 
}

/* Margens dos elementos DENTRO do cabeçalho (Desktop) */
.header-title-text {
    font-size: 2.8em;
    font-weight: bold;
    font-family: "Baskerville Old Face", serif;
    margin: 5px 0; /* Margem do título */
    margin-bottom: -10px; /* Puxa o subtítulo para cima */
    line-height: 1.1; 
}

.header-subtitle-text {
    font-size: 1.6em;
    font-family: "Baskerville Old Face", serif;
    margin-top: 0px; 
    margin-bottom: 5px; /* Margem do subtítulo */
    color: white;
    line-height: 1.2; 
}

.golden-line {
    height: 2px;
    background-color: var(--secondary-color);
    width: 70%;
    max-width: 600px;
    margin: 5px auto; /* Margem das linhas douradas */
    border-radius: 2px;
}


/* Media Query para telas menores (celulares) */
@media (max-width: 768px) {
    #fixed-header-container {
        position: relative; /* Muda para relativo no celular */ /* relative (original), fixed (desktop) */
        margin-bottom: 0px;
        box-shadow: none;
        background-color: var(--primary-color) !important;
        /* **AJUSTE PRINCIPAL AQUI**: Define a altura das "caixas vermelhas" (padding vertical) */
        padding: 8px 0; /* Sugestão inicial. Tente 10px, 12px, etc., até ficar simétrico */
        
        /* Flexbox properties garantem o alinhamento */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    
    /* **CRÍTICO**: Zera todas as margens verticais dos elementos DENTRO do cabeçalho no mobile */
    /* Isso permite que o 'padding' do container e as novas margens definam o espaçamento */
    #fixed-header-container > .header-title-text,
    #fixed-header-container > .header-subtitle-text,
    #fixed-header-container > .golden-line {
        margin-top: 0 !important;
        margin-bottom: 0 !important;
    }

    /* **NOVO AJUSTE**: Adiciona margens específicas para espaçamento INTERNO no mobile */
    /* Isso simula as distâncias entre o texto e as linhas douradas */
    .golden-line:first-of-type { /* Para a linha dourada superior */
        margin-bottom: 3px !important; /* Espaço entre ela e o título */
    }
    .golden-line:last-of-type { /* Para a linha dourada inferior */
        margin-top: 3px !important; /* Espaço entre o subtítulo e ela */
    }
    
    .header-title-text {
        font-size: 1.5em; /* Mantém o tamanho da fonte */
        line-height: 1.1; /* Compacta a altura da linha */
        /* margin-top não é necessário aqui se o golden-line:first-of-type já tem margin-bottom */
        margin-bottom: 0px !important; /* Garante que não haja margem desnecessária no final do título */
    }
    .header-subtitle-text {
        font-size: 1.2em; /* Um pouco menor para caber melhor */
        line-height: 1.2; /* Compacta a altura da linha */
        margin-top: 2px !important; /* Pequeno espaço entre título e subtítulo */
    }
    
    /* Ajuste para o botão da sidebar no mobile, para que ele role junto */
    .toggle-sidebar-button-class {
        position: absolute !important; /* Muda para absolute no mobile para rolar com o conteúdo */
        top: 18px !important; /* Mantém a posição relativa ao elemento pai (body ou main-content-wrapper) */
    }

    /* Remove o padding-top do main-content-wrapper no mobile, já que o cabeçalho é relativo */
    .main-content-wrapper { 
        padding-top: 0px !important; 
    }
}


/* Outras classes (permanecem como antes) */
.header-title-text {
    /* ... (Estilos padrão/desktop) ... */
}
.header-subtitle-text {
    /* ... (Estilos padrão/desktop) ... */
}
.golden-line {
    /* ... (Estilos padrão/desktop) ... */
}

/* NEW: Botão de alternância da Sidebar */
.toggle-sidebar-button-class {
    position: fixed; /* Fixo na tela por padrão no desktop */
    top: 80px; /* Ajuste para ficar abaixo do cabeçalho fixo */
    left: calc(10px); 
    background-color: var(--secondary-color);
    color: var(--primary-color);
    border: none;
    padding: 10px 10px;
    cursor: pointer;
    border-radius: 5px;
    font-weight: bold;
    z-index: 10000; /* Garante que o botão esteja acima de outros elementos */
    transition: left 0.3s ease; /* Transição suave para o movimento do botão */
}


/* Wrapper para Sidebar e Conteúdo Principal */
.main-content-wrapper {
    display: flex; /* Habilita layout flexível */
    padding-top: 125px; /* Espaço para o cabeçalho fixo no desktop */
    min-height: calc(100vh - 150px); /* Garante que o conteúdo ocupe o restante da tela */
}

/* Sidebar */
#sidebar {
    background-color: var(--primary-color);
    width: 280px; /* Largura fixa padrão da sidebar */
    padding: 15px;
    color: var(--text-color-light);
    flex-shrink: 0; /* Previne que a sidebar encolha */
    overflow-y: auto; /* Adiciona scroll se o conteúdo for muito longo */
    /* NEW: Transições suaves para a abertura/fechamento */
    transition: width 0.3s ease, padding 0.3s ease, overflow 0.3s ease; 
}

#sidebar h3 { /* Títulos na sidebar */
    color: var(--secondary-color);
    font-family: 'Montserrat', sans-serif;
    margin-bottom: 15px;
    padding-bottom: 5px;
    border-bottom: 1px solid rgba(255,215,0,0.5);
}

.sidebar-label { /* Labels dos inputs na sidebar */
    color: var(--text-color-light);
    font-weight: 600;
    margin-top: 15px;
    margin-bottom: 5px;
}

/* Estilização dos Componentes Dash na Sidebar */

/* Slider */
.dash-slider-custom .rc-slider-track { /* Parte preenchida do slider */
    background-color: var(--secondary-color) !important;
}
.dash-slider-custom .rc-slider-handle { /* Pino do slider */
    border-color: var(--secondary-color) !important;
    background-color: var(--secondary-color) !important;
}
.dash-slider-custom .rc-slider-rail { /* Trilha vazia do slider */
    background-color: var(--input-bg-color-dark) !important;
}
.dash-slider-custom .rc-slider-mark-text { /* Texto das marcas do slider */
    color: var(--text-color-light) !important;
}

/* Inputs de Texto/Número */
.dash-input-custom .dash-input { /* Input field */
    background-color: var(--input-bg-color-dark) !important;
    border: 1px solid var(--secondary-color) !important;
    color: var(--text-color-light) !important;
    border-radius: 5px;
    padding: 8px 10px;
}

/* Radio Items */
.dash-radioitems-custom .rc-radio-inner {
    border-color: var(--secondary-color) !important; /* Borda do círculo */
    background-color: var(--input-bg-color-dark) !important; /* Fundo do círculo */
}
.dash-radioitems-custom .rc-radio-checked .rc-radio-inner {
    background-color: var(--secondary-color) !important; /* Fundo do círculo selecionado */
}
.dash-radioitems-custom .rc-radio + span {
    color: var(--text-color-light) !important; /* Texto do radio item */
}
.dash-radioitems-custom .rc-radio-checked .rc-radio-inner::after {
    background-color: var(--primary-color) !important; /* O 'ponto' interno do radio selecionado */
}


/* Dropdown (Multi-select) */
.dash-dropdown-custom .Select-control {
    background-color: var(--input-bg-color-dark) !important;
    border: 1px solid var(--secondary-color) !important;
    color: var(--text-color-light) !important;
    border-radius: 5px;
}
.dash-dropdown-custom .Select-input { /* Onde digita para buscar opções */
    color: var(--text-color-light) !important;
}
.dash-dropdown-custom .Select-placeholder { /* Texto de placeholder */
    color: var(--text-color-light) !important;
}
.dash-dropdown-custom .Select--multi .Select-value { /* Tags dos itens selecionados */
    background-color: var(--secondary-color) !important; /* Fundo dourado da tag */
    border: 1px solid var(--secondary-color) !important;
    border-radius: 3px;
}

/* --- INÍCIO DOS AJUSTES CONSOLIDADOS PARA O 'X' E SUA ÁREA DE HOVER --- */

/* Cor do texto da tag selecionada (o valor, e.g., "NATU3") */
.dash-dropdown-custom .Select-value-label {
    color: var(--primary-color) !important; /* Deve ser azul escuro para contraste no fundo dourado */
    opacity: 1 !important; 
}

/* Estilo do ícone 'X' em estado normal */
.dash-dropdown-custom .Select-value-icon {
    color: var(--primary-color) !important; /* Cor inicial: azul escuro */
    fill: var(--primary-color) !important; /* Para ícones SVG */
    font-weight: bold !important;
    opacity: 1 !important;
    padding: 0 2px; 
    line-height: 1; 
}

/* Estilo da área clicável ao redor do 'X' em estado normal */
.dash-dropdown-custom .Select-value-label__remove {
    background-color: transparent !important; /* Remove qualquer fundo padrão */
    border: none !important; /* Remove qualquer borda padrão */
    transition: background-color 0.2s ease, color 0.2s ease;
    display: inline-flex; 
    align-items: center;
    justify-content: center;
    padding: 0 4px; 
    margin-left: 5px; 
    color: var(--primary-color) !important; /* Garante que a cor padrão do 'x' seja azul */
}

/* Estilo para a área clicável do 'X' (o .Select-value-label__remove) ao passar o mouse */
.dash-dropdown-custom .Select-value-label__remove:hover {
    background-color: var(--primary-color) !important; /* Fundo azul escuro para a área de hover */
    border: none !important; /* Remove qualquer borda que possa aparecer */
    border-radius: 50% !important; /* Formato circular no hover */
    cursor: pointer;
    /* IMPORTANTE: A cor do 'X' será gerenciada pela regra aninhada abaixo */
}

/* Força a cor do ícone 'X' (o .Select-value-icon) quando seu PARENT .Select-value-label__remove está em hover */
.dash-dropdown-custom .Select-value-label__remove:hover .Select-value-icon {
    color: var(--text-color-light) !important; /* O 'X' fica branco */
    fill: var(--text-color-light) !important; /* Para ícones SVG */
    stroke: var(--text-color-light) !important; /* Para SVGs que usam stroke */
    background-color: transparent !important; /* Garante que o ícone em si não tenha fundo */
}

/* Certifica que nenhuma outra regra de background color ou image sobrescreva o hover do "x" */
/* Adicionado para ser extra-agressivo contra estilos padrão da biblioteca */
.dash-dropdown-custom .Select-value-label__remove::before,
.dash-dropdown-custom .Select-value-label__remove::after {
    background-color: transparent !important;
    background-image: none !important;
}

/* --- FIM DOS AJUSTES CONSOLIDADOS PARA O 'X' E SUA ÁREA DE HOVER --- */


/* Melhorando o contraste das opções do dropdown - Fundo escuro atenuado */
.dash-dropdown-custom .Select-menu-outer { /* Container do menu dropdown */
    background-color: var(--input-bg-color-light) !important; /* Fundo escuro atenuado para as opções */
    border: 1px solid var(--primary-color) !important; /* Cor secundária ao redor da lista selecionável */
    border-radius: 5px;
}

/* Melhorando o contraste das opções do dropdown */
.dash-dropdown-custom .Select-option { /* Opções no dropdown */
    color: var(--text-color-light) !important; /* Texto claro para melhor legibilidade */
    background-color: var(--input-bg-color-light) !important; /* Fundo escuro atenuado para as opções */
    padding: 10px;
}
.dash-dropdown-custom .Select-option.is-focused,
.dash-dropdown-custom .Select-option.is-selected {
    background-color: var(--secondary-color) !important; /* Opção focada/selecionada */
    color: var(--primary-color) !important; /* Texto azul escuro */
}
.dash-dropdown-custom .Select-arrow { /* Seta do dropdown */
    border-top-color: var(--text-color-light) !important;
}

/* Conteúdo Principal */
#main-content {
    flex-grow: 1; /* Ocupa o espaço restante */
    padding: 20px;
    background-color: white; /* Mantém o fundo branco para o conteúdo principal */
    min-width: 0; 
}

/* Títulos no Conteúdo Principal */
#main-content h1, #main-content h2, #main-content h3 {
    color: var(--primary-color);
    font-family: 'Montserrat', sans-serif;
    font-weight: bold;
}

/* Texto geral no Conteúdo Principal */
#main-content p {
    color: var(--text-color-dark);
}

/* Linhas Horizontais (fora do cabeçalho) */
hr {
    border: none;
    border-top: 2px solid var(--primary-color);
    margin: 2em 0;
}

/* Estilo para o Dash DataTable */
.dash-table-container {
    width: 100%;
}
.dash-table-container .dash-header {
    background-color: var(--table-bg-color-even);
    border-bottom: 2px solid var(--primary-color);
}
.dash-table-container .dash-header .dash-cell-value {
    color: var(--primary-color);
    font-family: 'Montserrat', sans-serif;
    font-weight: bold;
}
.dash-table-container .dash-cell {
    color: var(--text-color-dark);
}
/* Estilo para as linhas alternadas */
.dash-table-container table tr:nth-child(even) {
    background-color: var(--table-bg-color-even);
}
.dash-table-container table tr:nth-child(odd) {
    background-color: var(--table-bg-color-odd);
}

/* Info Box */
.info-box-container {
    background-color: #F0F2F6;
    color: #333333;
    border-left: 8px solid #CCCCCC;
    font-weight: normal;
    padding: 1em;
    border-radius: 8px;
    margin-top: 20px;
    width: fit-content;
}
.info-box-container a {
    color: #4A90E2; /* Cor para links, pode ajustar para algo que combine mais */
}